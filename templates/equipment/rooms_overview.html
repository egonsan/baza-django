{% extends "sprzet/base.html" %}
{% block content %}

<style>
  /* C3: Rooms overview (dashboard) – UI-kit */

  .panel{ margin: 20px 0; }

  .panel-header{ margin-bottom: 14px; }

  .panel-title{
    margin:0 0 6px;
    font-size:1.6rem;
    font-weight:600;
    color:var(--text);
  }

  .panel-subtitle{
    margin:0;
    font-size:0.9rem;
    color:var(--muted);
    line-height:1.35;
  }

  .category-list{
    display:flex;
    flex-direction:column;
    gap:14px;
    margin-top:16px;
  }

  .category-item{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    padding:14px 16px;
    border-radius:12px;
    border:1px solid var(--panel-border);
    background: transparent;
  }

  .category-main{
    display:flex;
    flex-direction:column;
    gap:4px;
    min-width:0;
  }

  .category-name{
    font-size:1.05rem;
    font-weight:600;
    color:var(--text);
  }

  .category-meta{
    font-size:0.9rem;
    color:var(--muted);
    line-height:1.35;
  }

  .category-meta span{ margin-right:14px; }

  .empty{
    margin:0;
    color:var(--muted);
  }
</style>

<div class="ui-panel panel">
  <div class="panel-header">
    <h1 class="panel-title">Pomieszczenia / Sale</h1>
    <p class="panel-subtitle">
      Zestawienie kategorii pomieszczeń. Dla każdej kategorii widać liczbę sal
      oraz liczbę kart sprzętu przypisanych do tej kategorii.
    </p>
  </div>

  {% if categories %}
    <div class="category-list">
      {% for cat in categories %}
        <div class="category-item">
          <div class="category-main">
            <div class="category-name">{{ cat.label }}</div>
            <div class="category-meta">
              <span>Pomieszczeń: <strong>{{ cat.rooms_count }}</strong></span>
              <span>Kart sprzętu: <strong>{{ cat.equipment_count }}</strong></span>
            </div>
          </div>

          <div>
            <a href="{% url 'equipment:rooms_category_detail' cat.code %}"
               class="ui-btn ui-btn-primary">
              Przejdź do listy
            </a>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="empty">Brak danych o pomieszczeniach w kategoriach.</p>
  {% endif %}
</div>

{% endblock %}