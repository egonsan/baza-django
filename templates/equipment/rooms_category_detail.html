{% extends "sprzet/base.html" %}
{% block content %}

<div class="ui-panel rooms-cat-panel">
  <div class="rooms-cat-header">
    <div class="rooms-cat-titlebox">
      <h1 class="rooms-cat-title">Pomieszczenia – {{ category_label }}</h1>
      <p class="rooms-cat-subtitle">
        Lista pomieszczeń (budynek + numer sali) dla wybranej kategorii.
        Dla każdej sali pokazana jest liczba kart sprzętu.
      </p>
    </div>

    <a href="{% url 'equipment:rooms_dashboard' %}" class="ui-btn ui-btn-secondary rooms-cat-btn">
      ← Wróć do kategorii
    </a>
  </div>

  {% if rooms %}
    <table class="ui-table">
      <thead>
        <tr>
          <th>Budynek</th>
          <th>Pomieszczenie</th>
          <th>Liczba kart</th>
          <th>Akcje</th>
        </tr>
      </thead>
      <tbody>
        {% for r in rooms %}
          <tr>
            <td>{{ r.building }}</td>
            <td>{{ r.room }}</td>
            <td>{{ r.equipment_count }}</td>
            <td class="rooms-cat-actions-cell">
              <a href="{% url 'equipment:room_equipment_list' category_code r.building r.room %}"
                 class="ui-btn ui-btn-primary rooms-cat-btn">
                Sprzęt w tej sali
              </a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="rooms-cat-empty">Brak pomieszczeń w tej kategorii.</p>
  {% endif %}
</div>

{% endblock %}