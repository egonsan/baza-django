{% extends "sprzet/base.html" %}
{% block content %}

<style>
    /* =========================================================
       THEME TOKENS (tylko dla tej strony)
       - Light: wartości domyślne w :root
       - Dark: nadpisania w body.dark / html[data-theme="dark"]
       ========================================================= */

    :root{
        --panel-bg:#ffffff;
        --panel-shadow:0 2px 10px rgba(0,0,0,0.07);

        --text-main:#1d2a3a;
        --text-muted:#6b7280;

        --border:#e3e6ec;
        --border-strong:#cbd5e1;

        --table-bg:#ffffff;
        --table-head-bg:#f1f3f7;
        --row-hover:#f7f8fb;

        --btn-bg:#193b6b;
        --btn-bg-hover:#102947;
        --btn-text:#ffffff;
        --btn-border:#193b6b;
    }

    /* Dark mode: wspieramy kilka wariantów przełącznika */
    body.dark,
    html[data-theme="dark"] body,
    body[data-theme="dark"]{
        --panel-bg:#0b1220;
        --panel-shadow:0 2px 14px rgba(0,0,0,0.45);

        --text-main:#e5e7eb;
        --text-muted:#aab2c0;

        --border:rgba(255,255,255,0.10);
        --border-strong:rgba(255,255,255,0.16);

        --table-bg:#0b1220;
        --table-head-bg:#111b2f;
        --row-hover:rgba(255,255,255,0.04);

        --btn-bg:#1f4b8f;
        --btn-bg-hover:#173a6f;
        --btn-text:#ffffff;
        --btn-border:#1f4b8f;
    }

    /* =========================================================
       STYLES
       ========================================================= */

    .panel{
        background:var(--panel-bg);
        border-radius:12px;
        padding:25px 30px;
        box-shadow:var(--panel-shadow);
        margin-bottom:40px;
        border:1px solid var(--border);
    }

    .panel h1{
        margin:0 0 20px;
        font-size:1.6rem;
        font-weight:600;
        color:var(--text-main);
    }

    table.worker-table{
        width:100%;
        border-collapse:collapse;
        background:var(--table-bg);
    }

    table.worker-table th,
    table.worker-table td{
        padding:14px 12px;
        text-align:left;
        border-bottom:1px solid var(--border);
        font-size:0.95rem;
        color:var(--text-main);
        vertical-align:top;
    }

    table.worker-table th{
        background:var(--table-head-bg);
        font-weight:600;
        color:var(--text-main);
        border-bottom:1px solid var(--border-strong);
        white-space:nowrap;
    }

    table.worker-table tbody tr:hover{
        background:var(--row-hover);
    }

    .worker-name{
        font-weight:600;
        color:var(--text-main);
    }

    .btn-details{
        display:inline-block;
        padding:6px 12px;
        background:var(--btn-bg);
        color:var(--btn-text);
        text-decoration:none;
        border-radius:6px;
        font-size:0.85rem;
        transition:background 0.2s, border-color 0.2s;
        border:1px solid var(--btn-border);
        white-space:nowrap;
    }

    .btn-details:hover{
        background:var(--btn-bg-hover);
        border-color:var(--btn-bg-hover);
    }

    .empty{
        color:var(--text-muted);
        margin:0;
    }
</style>

<div class="panel">
    <h1>Pracownicy</h1>

    {% if workers %}
        <table class="worker-table">
            <thead>
                <tr>
                    <th>Pracownik</th>
                    <th>Liczba kart sprzętu</th>
                    <th>Akcja</th>
                </tr>
            </thead>
            <tbody>
                {% for w in workers %}
                <tr>
                    <td class="worker-name">{{ w.display_name }}</td>
                    <td>{{ w.item_count }}</td>
                    <td>
                        <a href="{% url 'equipment:worker_detail' worker_name=w.key %}"
                           class="btn-details">
                            Szczegóły
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p class="empty">Brak pracowników w bazie.</p>
    {% endif %}
</div>

{% endblock %}