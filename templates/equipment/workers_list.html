{% extends "sprzet/base.html" %}
{% block content %}

<style>
  /* C3 / Pracownicy – Krok 4
     Widok oparty na UI-kit z base.html.
     Zostawiamy tylko nagłówek + drobne dopasowania.
  */

  .page-header{
    display:flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 12px;
    flex-wrap: wrap;
    margin-bottom: 14px;
  }

  .page-title{
    margin: 0;
    font-size: 1.6rem;
    font-weight: 800;
    color: var(--text);
  }

  .subtitle{
    margin: 6px 0 0;
    color: var(--muted);
    font-size: 0.92rem;
    line-height: 1.35;
  }

  .worker-name{
    font-weight: 700;
  }

  .empty{
    margin: 0;
    color: var(--muted);
  }
</style>

<div class="ui-panel">
  <div class="page-header">
    <div>
      <h1 class="page-title">Pracownicy</h1>
      <p class="subtitle">Lista unikalnych pracowników i liczba przypisanych kart sprzętu.</p>
    </div>
  </div>

  {% if workers %}
    <table class="ui-table">
      <thead>
        <tr>
          <th>Pracownik</th>
          <th>Liczba kart sprzętu</th>
          <th>Akcja</th>
        </tr>
      </thead>
      <tbody>
        {% for w in workers %}
        <tr>
          <td class="worker-name">{{ w.display_name }}</td>
          <td>{{ w.item_count }}</td>
          <td>
            <a href="{% url 'equipment:worker_detail' worker_name=w.key %}"
               class="ui-btn ui-btn-primary">
              Szczegóły
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="empty">Brak pracowników w bazie.</p>
  {% endif %}
</div>

{% endblock %}