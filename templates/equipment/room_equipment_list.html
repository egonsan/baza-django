{% extends "sprzet/base.html" %}
{% block content %}

<style>
  /* C3: Room equipment list – UI-kit */

  .panel{ margin: 20px 0; }

  .panel-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:16px;
    margin-bottom:16px;
    flex-wrap:wrap;
  }

  .panel-title-box{
    display:flex;
    flex-direction:column;
    gap:4px;
    min-width: 0;
  }

  .panel-title{
    margin:0;
    font-size:1.6rem;
    font-weight:600;
    color:var(--text);
  }

  .panel-subtitle{
    margin:0;
    font-size:0.9rem;
    color:var(--muted);
    line-height:1.35;
  }

  .room-empty{
    margin:0;
    font-size:0.95rem;
    color:var(--muted);
  }

  /* Akcje w tabeli */
  .actions-cell{
    white-space:nowrap;
    text-align:right;
  }

  /* Wyrównania w tabeli */
  .ui-table th, .ui-table td{ text-align:left; }
  .ui-table th:last-child, .ui-table td:last-child{ text-align:right; }

  /* Czytelny numer */
  .equipment-number{ white-space:nowrap; font-weight:600; }
</style>

<div class="ui-panel panel">
  <div class="panel-header">
    <div class="panel-title-box">
      <h1 class="panel-title">Sprzęt w sali {{ building }} / {{ room }}</h1>
      <p class="panel-subtitle">
        Kategoria: <strong>{{ category_label }}</strong>.
        Lista wszystkich kart sprzętu przypisanych do tego pomieszczenia.
      </p>
    </div>

    <a href="{% url 'equipment:rooms_category_detail' category_code %}" class="ui-btn ui-btn-secondary">
      ← Wróć do listy pomieszczeń
    </a>
  </div>

  {% if equipments %}
    <table class="ui-table">
      <thead>
        <tr>
          <th>Nr inwentarzowy</th>
          <th>Nazwa</th>
          <th>Użytkownik</th>
          <th>Status</th>
          <th>Akcje</th>
        </tr>
      </thead>
      <tbody>
        {% for eq in equipments %}
          <tr>
            <td class="equipment-number">{{ eq.inventory_number }}</td>
            <td>{{ eq.equipment_name }}</td>
            <td>{{ eq.user_full_name }}</td>
            <td>{{ eq.status }}</td>
            <td class="actions-cell">
              <a href="{% url 'equipment:equipment_detail' eq.pk %}" class="ui-btn ui-btn-secondary">
                Szczegóły
              </a>
              <a href="{% url 'equipment:equipment_edit' eq.pk %}" class="ui-btn ui-btn-primary">
                Edytuj
              </a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="room-empty">Brak kart sprzętu przypisanych do tego pomieszczenia.</p>
  {% endif %}
</div>

{% endblock %}